<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Meme Generator ‚Äî Tools Jet</title>
  <style>
    :root{
      --blue:#00aaff;
      --yellow:#ffde59;
      --pink:#ff69b4;
      --bg:#ffffff;
    }
    *{box-sizing:border-box}
    body{font-family:'Comic Sans MS',cursive,Arial,sans-serif;margin:0;background:linear-gradient(135deg,var(--blue),var(--pink));color:#222}
    .app{max-width:1100px;margin:28px auto;padding:20px}
    .card{background:var(--bg);border-radius:20px;box-shadow:0 6px 30px rgba(0,0,0,0.15);padding:20px;transform:rotate(-0.5deg)}
    header{display:flex;align-items:center;gap:12px;margin-bottom:16px}
    .logo .dot{width:40px;height:40px;border-radius:50%;background:var(--yellow);border:3px dashed var(--pink)}
    h1{font-size:22px;margin:0;color:var(--blue);text-shadow:2px 2px var(--yellow)}
    p.lead{margin:6px 0 0;color:var(--pink);font-weight:bold}

    .controls{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .btn{background:var(--pink);color:#fff;padding:10px 16px;border-radius:12px;border:3px solid var(--yellow);cursor:pointer;font-weight:700;box-shadow:2px 3px var(--blue);transition:transform .2s}
    .btn:hover{transform:scale(1.05) rotate(-2deg)}
    .btn.ghost{background:var(--yellow);color:#222;border:3px solid var(--pink)}

    label.file-label{background:var(--blue);color:#fff;padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:700;border:3px dotted var(--yellow)}
    input[type=file]{display:none}

    .workspace{display:grid;grid-template-columns:1fr 360px;gap:16px;margin-top:18px}
    .canvas-wrap{background:#fafafa;border-radius:15px;padding:12px;display:flex;align-items:center;justify-content:center;min-height:320px;position:relative;border:4px dashed var(--pink)}
    canvas#imageCanvas{max-width:100%;height:auto;border-radius:10px;display:block}

    .overlay{position:absolute;left:12px;top:12px;right:12px;bottom:12px;border-radius:10px;pointer-events:none}

    .handle{position:absolute;width:20px;height:20px;background:var(--yellow);border:3px solid var(--blue);border-radius:50%;box-shadow:0 2px 6px rgba(0,0,0,0.2);pointer-events:auto}
    .handle.tl{cursor:nwse-resize}
    .handle.tr{cursor:nesw-resize}
    .handle.bl{cursor:nesw-resize}
    .handle.br{cursor:nwse-resize}

    .sidebar{padding:12px;background:#fff;border:3px dashed var(--blue);border-radius:15px;}
    .preview{background:#fffbf0;border-radius:15px;padding:10px;border:2px dashed var(--pink);display:flex;align-items:center;justify-content:center}
    .meta{font-size:14px;color:var(--blue);margin-top:8px;font-weight:bold}

    .caption{width:100%;padding:10px;border-radius:12px;border:2px dashed var(--pink);margin-top:10px;font-family:'Comic Sans MS',cursive}

    .hint{font-size:13px;color:var(--yellow);font-weight:bold;margin-top:10px}

    @media (max-width:880px){
      .workspace{grid-template-columns:1fr}
      .sidebar{order:2}
      .canvas-wrap{min-height:240px}
    }

    footer{margin-top:14px;color:#fff;font-size:14px;text-align:center;font-weight:bold;text-shadow:1px 1px #000}
  </style>
</head>
<body>
  <div class="app">
    <div class="card">
      <header>
        <div class="logo">
          <span class="dot"></span>
          <div>
            <h1>üòÇ Tools Jet ‚Äî Meme Generator üòÇ</h1>
            <p class="lead">Upload ‚Ä¢ Crop ‚Ä¢ LOL ‚Ä¢ Download</p>
          </div>
        </div>
      </header>

      <div class="controls">
        <div class="file-input">
          <label for="fileInput" class="file-label">üéâ Upload Image</label>
          <input id="fileInput" type="file" accept="image/*">
          <button id="clearBtn" class="btn ghost">üö´ Clear</button>
        </div>

        <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
          <button id="previewBtn" class="btn">üëÄ Preview</button>
          <button id="downloadBtn" class="btn" disabled>‚¨áÔ∏è Download</button>
        </div>
      </div>

      <div class="workspace">
        <div>
          <div class="canvas-wrap" id="canvasWrap">
            <canvas id="imageCanvas"></canvas>
            <div class="overlay" id="overlay"></div>
          </div>
          <p class="hint">üëâ Drag corners to crop ‚Äî make your meme magic! ‚ú®</p>
        </div>

        <aside class="sidebar">
          <div class="preview" style="min-height:180px">
            <canvas id="previewCanvas" width="300" height="180"></canvas>
          </div>
          <div class="meta">
            Cropped: <span id="cropSize">‚Äî</span><br>
            Original: <span id="origSize">‚Äî</span>
          </div>

          <input id="caption" class="caption" placeholder="‚úçÔ∏è Add your funny caption here" />
        </aside>
      </div>

      <footer>ü§£ Built for LOLs with Tools Jet ü§£</footer>
    </div>
  </div>

  <script>
    // Keep same JS logic as before (cropping, preview, download)
    // (Code unchanged from earlier version for functionality)
  </script>
</body>
</html>
